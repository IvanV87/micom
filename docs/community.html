

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building communities &mdash; micom 0.10.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Growth rates and fluxes" href="growth_fluxes.html" />
    <link rel="prev" title="Installing micom" href="installing.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/micom.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.10
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="logic.html">Methods used by MICOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installing micom</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing.html#Solvers">Solvers</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building communities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Saving-and-loading-communities">Saving and loading communities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="growth_fluxes.html">Growth rates and fluxes</a></li>
<li class="toctree-l1"><a class="reference internal" href="media.html">Growth media</a></li>
<li class="toctree-l1"><a class="reference internal" href="taxa_knockouts.html">Knockouts</a></li>
<li class="toctree-l1"><a class="reference internal" href="elasticities.html">Intervention studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Analyzing many samples in parallel</a></li>
<li class="toctree-l1"><a class="reference internal" href="micom.html">API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">micom</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Building communities</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/community.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Building-communities">
<h1>Building communities<a class="headerlink" href="#Building-communities" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">micom</span></code> will construct communities from a specification via a Pandas DataFrame. Here, the DataFrame needs at least two columns: “id” and “file” which specify the ID of the organism/tissue and a file containing the actual individual model.</p>
<p>To make more sense of that we can look at a small example. <code class="docutils literal notranslate"><span class="pre">micom</span></code> comes with a function that generates a simple example community specification consisting of several copies of a small <em>E. coli</em> model containing only the central carbon metabolism.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">micom.data</span> <span class="kn">import</span> <span class="n">test_taxonomy</span>

<span class="n">taxonomy</span> <span class="o">=</span> <span class="n">test_taxonomy</span><span class="p">()</span>
<span class="n">taxonomy</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>genus</th>
      <th>species</th>
      <th>reactions</th>
      <th>metabolites</th>
      <th>file</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Escherichia_coli_1</td>
      <td>Escherichia</td>
      <td>Eschericia coli</td>
      <td>95</td>
      <td>72</td>
      <td>/Users/cdiener/code/micom/micom/data/e_coli_co...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Escherichia_coli_2</td>
      <td>Escherichia</td>
      <td>Eschericia coli</td>
      <td>95</td>
      <td>72</td>
      <td>/Users/cdiener/code/micom/micom/data/e_coli_co...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Escherichia_coli_3</td>
      <td>Escherichia</td>
      <td>Eschericia coli</td>
      <td>95</td>
      <td>72</td>
      <td>/Users/cdiener/code/micom/micom/data/e_coli_co...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Escherichia_coli_4</td>
      <td>Escherichia</td>
      <td>Eschericia coli</td>
      <td>95</td>
      <td>72</td>
      <td>/Users/cdiener/code/micom/micom/data/e_coli_co...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Escherichia_coli_5</td>
      <td>Escherichia</td>
      <td>Eschericia coli</td>
      <td>95</td>
      <td>72</td>
      <td>/Users/cdiener/code/micom/micom/data/e_coli_co...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>As we see this specification contains the required fields and some more information. In fact the specification may contain any number of additional information which will be saved along with the community model. One special example is “abundance” which we will get to know soon :) The logic behind requiring the community information in this table format is that this table can be appended as supplement to your project or publication as is and describes your community composition without any doubt.</p>
<p>In order to convert the specification in a community model we will use the <code class="docutils literal notranslate"><span class="pre">Community</span></code> class from <code class="docutils literal notranslate"><span class="pre">micom</span></code> which derives from the cobrapy <code class="docutils literal notranslate"><span class="pre">Model</span></code> class.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">micom</span> <span class="kn">import</span> <span class="n">Community</span>

<span class="n">com</span> <span class="o">=</span> <span class="n">Community</span><span class="p">(</span><span class="n">taxonomy</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Build a community with a total of </span><span class="si">{}</span><span class="s2"> reactions.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">com</span><span class="o">.</span><span class="n">reactions</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 5/5 [00:02&lt;00:00,  2.39models/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Build a community with a total of 495 reactions.
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<p>This includes the correctly scaled exchange reactions with the internal medium and initializes the external imports to the maximum found in all models. The original taxonomy is maintained in the <code class="docutils literal notranslate"><span class="pre">com.taxonomy</span></code> attribute.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">micom</span></code> can figure out how to read a variety of different file types based on the extension. It curently supports:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.pickle</span></code> for pickled models</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.xml</span></code> or <code class="docutils literal notranslate"><span class="pre">.gz</span></code> for XML models</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.json</span></code> for JSON models</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.mat</span></code> for COBRAtoolbox models</p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">com</span><span class="o">.</span><span class="n">taxonomy</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>genus</th>
      <th>species</th>
      <th>reactions</th>
      <th>metabolites</th>
      <th>file</th>
      <th>abundance</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Escherichia_coli_1</th>
      <td>Escherichia_coli_1</td>
      <td>Escherichia</td>
      <td>Eschericia coli</td>
      <td>95</td>
      <td>72</td>
      <td>/Users/cdiener/code/micom/micom/data/e_coli_co...</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>Escherichia_coli_2</th>
      <td>Escherichia_coli_2</td>
      <td>Escherichia</td>
      <td>Eschericia coli</td>
      <td>95</td>
      <td>72</td>
      <td>/Users/cdiener/code/micom/micom/data/e_coli_co...</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>Escherichia_coli_3</th>
      <td>Escherichia_coli_3</td>
      <td>Escherichia</td>
      <td>Eschericia coli</td>
      <td>95</td>
      <td>72</td>
      <td>/Users/cdiener/code/micom/micom/data/e_coli_co...</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>Escherichia_coli_4</th>
      <td>Escherichia_coli_4</td>
      <td>Escherichia</td>
      <td>Eschericia coli</td>
      <td>95</td>
      <td>72</td>
      <td>/Users/cdiener/code/micom/micom/data/e_coli_co...</td>
      <td>0.2</td>
    </tr>
    <tr>
      <th>Escherichia_coli_5</th>
      <td>Escherichia_coli_5</td>
      <td>Escherichia</td>
      <td>Eschericia coli</td>
      <td>95</td>
      <td>72</td>
      <td>/Users/cdiener/code/micom/micom/data/e_coli_co...</td>
      <td>0.2</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>As you can notice we have gained a new column called <code class="docutils literal notranslate"><span class="pre">abundance</span></code>. This column quantifies the relative quantity of each individual in the community. Since we did not specify this in the original taxonomy <code class="docutils literal notranslate"><span class="pre">micom</span></code> assumes that all individuals are present in the same quantity.</p>
<p>The presented community here is pretty simplistic. For microbial communities <code class="docutils literal notranslate"><span class="pre">micom</span></code> includes a larger taxonomy for 773 microbial species from the <a class="reference external" href="https://doi.org/10.1038/nbt.3703">AGORA paper</a>. Here the “file” column only contains the base names for the files but you can easily prepend any path as demonstrated in the following:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">micom.data</span> <span class="kn">import</span> <span class="n">agora</span>

<span class="n">tax</span> <span class="o">=</span> <span class="n">agora</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">tax</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="s2">&quot;models/&quot;</span> <span class="o">+</span> <span class="n">tax</span><span class="o">.</span><span class="n">file</span>  <span class="c1"># assuming you have downloaded the AGORA models to the &quot;models&quot; folder</span>
<span class="n">tax</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>organism</th>
      <th>seedid</th>
      <th>kingdom</th>
      <th>phylum</th>
      <th>mclass</th>
      <th>order</th>
      <th>family</th>
      <th>genus</th>
      <th>oxygenstat</th>
      <th>metabolism</th>
      <th>...</th>
      <th>draftcreated</th>
      <th>phenotype</th>
      <th>imgid</th>
      <th>ncbiid</th>
      <th>platform</th>
      <th>kbaseid</th>
      <th>species</th>
      <th>file</th>
      <th>id</th>
      <th>taxa_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Abiotrophia defectiva ATCC 49176</td>
      <td>Abiotrophia defectiva ATCC 49176 (592010.4)</td>
      <td>Bacteria</td>
      <td>Firmicutes</td>
      <td>Bacilli</td>
      <td>Lactobacillales</td>
      <td>Aerococcaceae</td>
      <td>Abiotrophia</td>
      <td>Facultative anaerobe</td>
      <td>Saccharolytic, fermentative or respiratory</td>
      <td>...</td>
      <td>07/01/14</td>
      <td>1.0</td>
      <td>2.562617e+09</td>
      <td>592010.0</td>
      <td>ModelSEED</td>
      <td>NaN</td>
      <td>defectiva</td>
      <td>models/Abiotrophia_defectiva_ATCC_49176.xml</td>
      <td>Abiotrophia_defectiva_ATCC_49176</td>
      <td>46125.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Achromobacter xylosoxidans A8</td>
      <td>Achromobacter xylosoxidans A8 (762376.5)</td>
      <td>Bacteria</td>
      <td>Proteobacteria</td>
      <td>Betaproteobacteria</td>
      <td>Burkholderiales</td>
      <td>Alcaligenaceae</td>
      <td>Achromobacter</td>
      <td>Aerobe</td>
      <td>Respiratory</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>762376.0</td>
      <td>ModelSEED</td>
      <td>kb_g_3268_model_gf</td>
      <td>xylosoxidans</td>
      <td>models/Achromobacter_xylosoxidans_A8.xml</td>
      <td>Achromobacter_xylosoxidans_A8</td>
      <td>85698.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Achromobacter xylosoxidans NBRC 15126 = ATCC 2...</td>
      <td>NaN</td>
      <td>Bacteria</td>
      <td>Proteobacteria</td>
      <td>Betaproteobacteria</td>
      <td>Burkholderiales</td>
      <td>Alcaligenaceae</td>
      <td>Achromobacter</td>
      <td>Aerobe</td>
      <td>Respiratory</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1216976.0</td>
      <td>Kbase</td>
      <td>kb|g.208127</td>
      <td>xylosoxidans</td>
      <td>models/Achromobacter_xylosoxidans_NBRC_15126.xml</td>
      <td>Achromobacter_xylosoxidans_NBRC_15126</td>
      <td>85698.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Acidaminococcus fermentans DSM 20731</td>
      <td>Acidaminococcus fermentans DSM 20731 (591001.3)</td>
      <td>Bacteria</td>
      <td>Firmicutes</td>
      <td>Negativicutes</td>
      <td>Acidaminococcales</td>
      <td>Acidaminococcaceae</td>
      <td>Acidaminococcus</td>
      <td>Obligate anaerobe</td>
      <td>Fermentative</td>
      <td>...</td>
      <td>04/17/16</td>
      <td>NaN</td>
      <td>6.463119e+08</td>
      <td>591001.0</td>
      <td>Kbase</td>
      <td>kb|g.2555</td>
      <td>fermentans</td>
      <td>models/Acidaminococcus_fermentans_DSM_20731.xml</td>
      <td>Acidaminococcus_fermentans_DSM_20731</td>
      <td>905.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Acidaminococcus intestini RyC-MR95</td>
      <td>Acidaminococcus intestini RyC-MR95 (568816.4)</td>
      <td>Bacteria</td>
      <td>Firmicutes</td>
      <td>Negativicutes</td>
      <td>Selenomonadales</td>
      <td>Acidaminococcaceae</td>
      <td>Acidaminococcus</td>
      <td>Obligate anaerobe</td>
      <td>Asaccharolytic, glutamate is fermented</td>
      <td>...</td>
      <td>08/03/14</td>
      <td>4.0</td>
      <td>2.511231e+09</td>
      <td>568816.0</td>
      <td>Kbase</td>
      <td>NaN</td>
      <td>intestini</td>
      <td>models/Acidaminococcus_intestini_RyC_MR95.xml</td>
      <td>Acidaminococcus_intestini_RyC_MR95</td>
      <td>187327.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 26 columns</p>
</div></div>
</div>
<div class="section" id="Saving-and-loading-communities">
<h2>Saving and loading communities<a class="headerlink" href="#Saving-and-loading-communities" title="Permalink to this headline">¶</a></h2>
<p>Contructing large community models can be slow which is due to performance limitations of the solvers. In essence, adding a single variable/constraint to a model qih 10 variables is much faster than adding it to a model with 10 million variables. Thus, we recommend you save the constructed community in a serialized format afterwards which will be much faster in loading repetitively.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">time</span> com = Community(taxonomy)
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 5/5 [00:02&lt;00:00,  2.39models/s]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
CPU times: user 2.09 s, sys: 27.5 ms, total: 2.12 s
Wall time: 2.11 s
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>

</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">time</span> com.to_pickle(&quot;community.pickle&quot;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
CPU times: user 11.8 ms, sys: 5.29 ms, total: 17.1 ms
Wall time: 15.6 ms
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">micom</span> <span class="kn">import</span> <span class="n">load_pickle</span>
<span class="o">%</span><span class="k">time</span> com = load_pickle(&quot;community.pickle&quot;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
CPU times: user 101 ms, sys: 5.09 ms, total: 106 ms
Wall time: 104 ms
</pre></div></div>
</div>
<p>As we can see loading the model from the pickle format is much faster than creating it <em>de novo</em>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="growth_fluxes.html" class="btn btn-neutral float-right" title="Growth rates and fluxes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installing.html" class="btn btn-neutral float-left" title="Installing micom" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Christian Diener

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>