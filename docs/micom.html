<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>micom package &#8212; micom 0.18.4 documentation</title>
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.4/yeti/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <script src="_static/js/jquery-1.11.0.min.js"></script>
    <script src="_static/js/jquery-fix.js"></script>
    <script src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="micom.data package" href="micom.data.html" />
    <link rel="prev" title="Writing your own workflows" href="workflows.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

<div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">
        micom</a>
      <span class="navbar-text navbar-version pull-left"><b>0.18.x</b></span>
    </div>

      <div class="collapse navbar-collapse nav-collapse">
        <ul class="nav navbar-nav">
          
          
          
          
        </ul>

        
          
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        
        
          
            <ul class='nav navbar-nav navbar-right'>
                
  <li>
    <a href="workflows.html" title="Previous Chapter: Writing your own workflows"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Writing your own workflows</span>
    </a>
  </li>
  <li>
    <a href="micom.data.html" title="Next Chapter: micom.data package"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">micom.data package &raquo;</span>
    </a>
  </li>
            </ul>
          
        
      </div>
  </div>
</div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="logic.html">Methods used by MICOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installing MICOM</a></li>
<li class="toctree-l1"><a class="reference internal" href="high_level.html">MICOM workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="viz.html">Visualizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="community.html">Building communities</a></li>
<li class="toctree-l1"><a class="reference internal" href="growth_fluxes.html">Growth rates and fluxes</a></li>
<li class="toctree-l1"><a class="reference internal" href="media.html">Growth media</a></li>
<li class="toctree-l1"><a class="reference internal" href="taxa_knockouts.html">Knockouts</a></li>
<li class="toctree-l1"><a class="reference internal" href="elasticities.html">Intervention studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Analyzing many samples in parallel</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API</a></li>
</ul>

        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="micom-package">
<h1>micom package<a class="headerlink" href="#micom-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="micom.data.html">micom.data package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="micom.data.html#module-micom.data">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="micom.viz.html">micom.viz package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="micom.viz.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="micom.viz.html#module-micom.viz.core">micom.viz.core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="micom.viz.html#module-micom.viz.exchanges">micom.viz.exchanges module</a></li>
<li class="toctree-l2"><a class="reference internal" href="micom.viz.html#module-micom.viz.growth">micom.viz.growth module</a></li>
<li class="toctree-l2"><a class="reference internal" href="micom.viz.html#module-micom.viz.prediction">micom.viz.prediction module</a></li>
<li class="toctree-l2"><a class="reference internal" href="micom.viz.html#module-micom.viz.tradeoff">micom.viz.tradeoff module</a></li>
<li class="toctree-l2"><a class="reference internal" href="micom.viz.html#module-micom.viz">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="micom.workflows.html">micom.workflows package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="micom.workflows.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="micom.workflows.html#module-micom.workflows.build">micom.workflows.build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="micom.workflows.html#module-micom.workflows.core">micom.workflows.core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="micom.workflows.html#module-micom.workflows.grow">micom.workflows.grow module</a></li>
<li class="toctree-l2"><a class="reference internal" href="micom.workflows.html#module-micom.workflows.media">micom.workflows.media module</a></li>
<li class="toctree-l2"><a class="reference internal" href="micom.workflows.html#module-micom.workflows.tradeoff">micom.workflows.tradeoff module</a></li>
<li class="toctree-l2"><a class="reference internal" href="micom.workflows.html#module-micom.workflows">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-micom.algorithms">
<span id="micom-algorithms-module"></span><h2>micom.algorithms module<a class="headerlink" href="#module-micom.algorithms" title="Permalink to this headline">¶</a></h2>
<p>Implements additional analysis algorithms for communities.</p>
<dl class="py function">
<dt id="micom.algorithms.euclidean">
<code class="sig-prename descclassname">micom.algorithms.</code><code class="sig-name descname">euclidean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inclusion</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.algorithms.euclidean" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate euclidean distances for a community.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.algorithms.jaccard">
<code class="sig-prename descclassname">micom.algorithms.</code><code class="sig-name descname">jaccard</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inclusion</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.algorithms.jaccard" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate jaccard distances for a community.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.algorithms.metabolic_dist">
<code class="sig-prename descclassname">micom.algorithms.</code><code class="sig-name descname">metabolic_dist</code><span class="sig-paren">(</span><em class="sig-param">reactions</em>, <em class="sig-param">metric=&lt;function jaccard&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#micom.algorithms.metabolic_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the metabolic distances between all members.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.algorithms.reaction_matrix">
<code class="sig-prename descclassname">micom.algorithms.</code><code class="sig-name descname">reaction_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">files</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.algorithms.reaction_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a matrix of reactions x models.</p>
</dd></dl>

</div>
<div class="section" id="module-micom.annotation">
<span id="micom-annotation-module"></span><h2>micom.annotation module<a class="headerlink" href="#module-micom.annotation" title="Permalink to this headline">¶</a></h2>
<p>Helper to annotate metabolites and species.</p>
<dl class="py function">
<dt id="micom.annotation.annotate">
<code class="sig-prename descclassname">micom.annotation.</code><code class="sig-name descname">annotate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ids</span></em>, <em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">what</span><span class="o">=</span><span class="default_value">'reaction'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.annotation.annotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Annotate a list of entities.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.annotation.annotate_metabolites_from_exchanges">
<code class="sig-prename descclassname">micom.annotation.</code><code class="sig-name descname">annotate_metabolites_from_exchanges</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">com</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.annotation.annotate_metabolites_from_exchanges" title="Permalink to this definition">¶</a></dt>
<dd><p>Annotate exchange reactions by their metabolite.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.annotation.flatten">
<code class="sig-prename descclassname">micom.annotation.</code><code class="sig-name descname">flatten</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.annotation.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten a dictionary into strings.</p>
</dd></dl>

</div>
<div class="section" id="module-micom.community">
<span id="micom-community-module"></span><h2>micom.community module<a class="headerlink" href="#module-micom.community" title="Permalink to this headline">¶</a></h2>
<p>A class representing a microbial or tissue community.</p>
<dl class="py class">
<dt id="micom.community.Community">
<em class="property">class </em><code class="sig-prename descclassname">micom.community.</code><code class="sig-name descname">Community</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">taxonomy</span></em>, <em class="sig-param"><span class="n">model_db</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">id</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rel_threshold</span><span class="o">=</span><span class="default_value">1e-06</span></em>, <em class="sig-param"><span class="n">solver</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">max_exchange</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">mass</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.community.Community" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cobra.core.model.Model</span></code></p>
<p>A community of models.</p>
<p>This class represents a community of individual models. It was designed for
microbial communities but may also be used for multi-tissue or tissue-cell
mixture models as long as all individuals exist within a single enclosing
compartment.</p>
<dl class="py method">
<dt id="micom.community.Community.abundances">
<em class="property">property </em><code class="sig-name descname">abundances</code><a class="headerlink" href="#micom.community.Community.abundances" title="Permalink to this definition">¶</a></dt>
<dd><p>The normalized abundances.</p>
<p>Setting this attribute will also trigger the appropriate updates in
the exchange fluxes and the community objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.build_metrics">
<em class="property">property </em><code class="sig-name descname">build_metrics</code><a class="headerlink" href="#micom.community.Community.build_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns general metrics for database matching.</p>
<p>Only available when built using a model database.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.cooperative_tradeoff">
<code class="sig-name descname">cooperative_tradeoff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min_growth</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">fraction</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">fluxes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pfba</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.community.Community.cooperative_tradeoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the best tradeoff between community and individual growth.</p>
<p>Finds the set of growth rates which maintian a particular community
growth and spread up growth across all taxa as much as possible.
This is done by minimizing the L2 norm of the growth rates with a
minimal community growth.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_growth</strong> (<em>float</em><em> or </em><em>array-like</em><em>, </em><em>optional</em>) – The minimal growth rate required for each individual. May be a
single value or an array-like object with the same length as there
are individuals.</p></li>
<li><p><strong>fraction</strong> (<em>float</em><em> or </em><em>list of floats in</em><em> [</em><em>0</em><em>, </em><em>1</em><em>]</em>) – The minum percentage of the community growth rate that has to be
maintained. For instance 0.9 means maintain 90% of the maximal
community growth rate. Defaults to 100%.</p></li>
<li><p><strong>fluxes</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to return the fluxes as well.</p></li>
<li><p><strong>pfba</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to obtain fluxes by parsimonious FBA rather than
“classical” FBA. This is highly recommended.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The solution of the optimization. If fluxes==False will only
contain the objective value, community growth rate and individual
growth rates. If more than one fraction value is given will return
a pandas Series of solutions with the fractions as indices.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>micom.CommunitySolution or pd.Series of solutions</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.exchanges">
<em class="property">property </em><code class="sig-name descname">exchanges</code><a class="headerlink" href="#micom.community.Community.exchanges" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all exchange reactions in the model.</p>
<p>Uses several heuristics based on the reaction name and compartments
to exclude reactions that are <em>not</em> exchange reactions.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.internal_exchanges">
<em class="property">property </em><code class="sig-name descname">internal_exchanges</code><a class="headerlink" href="#micom.community.Community.internal_exchanges" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all internal exchanges.</p>
<p>Internal exchanges are exchanges between individual taxa and the medium.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.knockout_taxa">
<code class="sig-name descname">knockout_taxa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">taxa</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fraction</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'change'</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">diag</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.community.Community.knockout_taxa" title="Permalink to this definition">¶</a></dt>
<dd><p>Sequentially knowckout a list of taxa in the model.</p>
<p>This uses cooperative tradeoff as optimization criterion in order to
get unqiue solutions for individual growth rates. Requires a QP
solver to work.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taxa</strong> (<em>str</em><em> or </em><em>list of strs</em>) – Names of taxa to be knocked out.</p></li>
<li><p><strong>fraction</strong> (<em>float in</em><em> [</em><em>0</em><em>, </em><em>1</em><em>]</em><em>, </em><em>optional</em>) – Percentage of the maximum community growth rate that has to be
maintained. Defaults to 100%.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – One of “raw”, “change” or “relative change” that dictates whether
to return the new growth rate (raw), the change in growth rate
new - old or the relative change ([new - old] / old).</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to show a progress bar. On by default.</p></li>
<li><p><strong>diag</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the diagonal should contain values as well. If False will
be filled with NaNs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A data frame with one row for each knockout and growth rates in the
columns. Here the row name indicates which taxon has been knocked
out and the columns contain the growth changes for all taxa in
that knockout.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.medium">
<em class="property">property </em><code class="sig-name descname">medium</code><a class="headerlink" href="#micom.community.Community.medium" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the medium.</p>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.modification">
<em class="property">property </em><code class="sig-name descname">modification</code><a class="headerlink" href="#micom.community.Community.modification" title="Permalink to this definition">¶</a></dt>
<dd><p>Denotes modifications to the model currently applied.</p>
<p>Will be None if the community is unmodified.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.optcom">
<code class="sig-name descname">optcom</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">strategy</span><span class="o">=</span><span class="default_value">'lagrangian'</span></em>, <em class="sig-param"><span class="n">min_growth</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">fluxes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pfba</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.community.Community.optcom" title="Permalink to this definition">¶</a></dt>
<dd><p>Run OptCom for the community.</p>
<p>OptCom methods are a group of optimization procedures to find community
solutions that provide a tradeoff between the cooperative community
growth and the egoistic growth of each individual <a href="#id9"><span class="problematic" id="id1">[#c1]_</span></a>. <cite>micom</cite>
provides several strategies that can be used to find optimal solutions:</p>
<ul class="simple">
<li><p>“moma”: Minimization of metabolic adjustment. Simultaneously
optimizes the community objective (maximize) and the cooperativity
cost (minimize). This method finds an exact maximum but doubles the
number of required variables, thus being slow.</p></li>
<li><p>“lmoma”: The same as “moma” only with a linear
representation of the cooperativity cost (absolute value).</p></li>
<li><p>“original”: Solves the multi-objective problem described in <a href="#id10"><span class="problematic" id="id2">[#c1]_</span></a>.
Here, the community growth rate is maximized simultanously with all
individual growth rates. Note that there are usually many
Pareto-optimal solutions to this problem and the method will only
give one solution. This is also the slowest method.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>community</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community to optimize.</p></li>
<li><p><strong>strategy</strong> (<em>str</em>) – The strategy used to solve the OptCom formulation. Defaults to
“lagrangian” which gives a decent tradeoff between speed and
correctness.</p></li>
<li><p><strong>min_growth</strong> (<em>float</em><em> or </em><em>array-like</em>) – The minimal growth rate required for each individual. May be a
single value or an array-like object with the same length as there
are individuals.</p></li>
<li><p><strong>fluxes</strong> (<em>boolean</em>) – Whether to return the fluxes as well.</p></li>
<li><p><strong>pfba</strong> (<em>boolean</em>) – Whether to obtain fluxes by parsimonious FBA rather than
“classical” FBA.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The solution of the optimization. If fluxes==False will only
contain the objective value, community growth rate and individual
growth rates.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>micom.CommunitySolution</p>
</dd>
</dl>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="c1"><span class="brackets">1</span></dt>
<dd><p>OptCom: a multi-level optimization framework for the metabolic
modeling and analysis of microbial communities.
Zomorrodi AR, Maranas CD. PLoS Comput Biol. 2012 Feb;8(2):e1002363.
doi: 10.1371/journal.pcbi.1002363, PMID: 22319433</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.optimize">
<code class="sig-name descname">optimize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fluxes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pfba</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">raise_error</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">atol</span><span class="o">=</span><span class="default_value">1e-06</span></em>, <em class="sig-param"><span class="n">rtol</span><span class="o">=</span><span class="default_value">1e-06</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.community.Community.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize the model using flux balance analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slim</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to return a slim solution which does not contain fluxes,
just growth rates.</p></li>
<li><p><strong>raise_error</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Should an error be raised if the solution is not optimal. Defaults
to False which will either return a solution with a non-optimal
status or None if optimization fails.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The solution after optimization or None if there is no optimum.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>micom.CommunitySolution</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.optimize_all">
<code class="sig-name descname">optimize_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fluxes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.community.Community.optimize_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Return solutions for individually optimizing each model.</p>
<p class="rubric">Notes</p>
<p>This might well mean that growth rates for all other individuals are
low since the individual may use up all available resources. As a
consequence the reported growth rates may usually never be obtained
all at once.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fluxes</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to return all fluxes. Defaults to just returning the
maximal growth rate.</p></li>
<li><p><strong>progress</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to show a progress bar.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The maximal growth rate for each taxa.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.optimize_single">
<code class="sig-name descname">optimize_single</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.community.Community.optimize_single" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize growth rate for one individual.</p>
<p><cite>optimize_single</cite> will calculate the maximal growth rate for one
individual member of the community.</p>
<p class="rubric">Notes</p>
<p>This might well mean that growth rates for all other individuals are
low since the individual may use up all available resources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>str</em>) – The ID of the individual to be optimized.</p></li>
<li><p><strong>fluxes</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to return all fluxes. Defaults to just returning the
maximal growth rate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The maximal growth rate for the given taxa.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.scale">
<em class="property">property </em><code class="sig-name descname">scale</code><a class="headerlink" href="#micom.community.Community.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a scale to improve numerical properties.</p>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.set_abundance">
<code class="sig-name descname">set_abundance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">normalize</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.community.Community.set_abundance" title="Permalink to this definition">¶</a></dt>
<dd><p>Change abundances for one or more taxa.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>array-like object</em>) – The new abundances. Must contain one value for each taxon. Can
be a named object like a pandas Series.</p></li>
<li><p><strong>normalize</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to normalize the abundances to a total of 1.0. Many things
in micom asssume that this is always the case. Only change this
if you know what you are doing :O</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.taxonomy">
<em class="property">property </em><code class="sig-name descname">taxonomy</code><a class="headerlink" href="#micom.community.Community.taxonomy" title="Permalink to this definition">¶</a></dt>
<dd><p>The taxonomy used within the model.</p>
<p>This attribute only returns a copy.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.community.Community.to_pickle">
<code class="sig-name descname">to_pickle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.community.Community.to_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a community in serialized form.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Where to save the pickled community.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Nothing</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-micom.db">
<span id="micom-db-module"></span><h2>micom.db module<a class="headerlink" href="#module-micom.db" title="Permalink to this headline">¶</a></h2>
<p>Build a database of organism metabolic models.</p>
<dl class="py function">
<dt id="micom.db.load_manifest">
<code class="sig-prename descclassname">micom.db.</code><code class="sig-name descname">load_manifest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">folder</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.db.load_manifest" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the manifest from a model DB.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.db.load_zip_model_db">
<code class="sig-prename descclassname">micom.db.</code><code class="sig-name descname">load_zip_model_db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">artifact</span></em>, <em class="sig-param"><span class="n">extract_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.db.load_zip_model_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare a model database for use.</p>
</dd></dl>

</div>
<div class="section" id="module-micom.duality">
<span id="micom-duality-module"></span><h2>micom.duality module<a class="headerlink" href="#module-micom.duality" title="Permalink to this headline">¶</a></h2>
<p>Implements a fast dual formulation.</p>
<dl class="py function">
<dt id="micom.duality.fast_dual">
<code class="sig-prename descclassname">micom.duality.</code><code class="sig-name descname">fast_dual</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">'dual_'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.duality.fast_dual" title="Permalink to this definition">¶</a></dt>
<dd><p>Add dual formulation to the problem.</p>
<p>A mathematical optimization problem can be viewed as a primal and a dual
problem. If the primal problem is a minimization problem the dual is a
maximization problem, and the optimal value of the dual is a lower bound of
the optimal value of the primal. For linear problems, strong duality holds,
which means that the optimal values of the primal and dual are equal
(duality gap = 0). This functions takes an optlang Model representing a
primal linear problem
and returns a new Model representing the dual optimization problem. The
provided model must have a linear objective, linear constraints and only
continuous variables. Furthermore, the problem must be in standard form,
i.e. all variables should be non-negative. Both minimization and
maximization problems are allowed.</p>
<dl class="py attribute">
<dt id="micom.duality.model">
<code class="sig-prename descclassname">micom.duality.</code><code class="sig-name descname">model</code><a class="headerlink" href="#micom.duality.model" title="Permalink to this definition">¶</a></dt>
<dd><p>The model to be dualized.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>cobra.Model</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="micom.duality.prefix">
<code class="sig-prename descclassname">micom.duality.</code><code class="sig-name descname">prefix</code><a class="headerlink" href="#micom.duality.prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>The string that will be prepended to all variable and constraint names
in the returned dual problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The coefficients for the new dual objective.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-micom.elasticity">
<span id="micom-elasticity-module"></span><h2>micom.elasticity module<a class="headerlink" href="#module-micom.elasticity" title="Permalink to this headline">¶</a></h2>
<p>Calculate elasticity coefficients.</p>
<p>Functions to calculate elasticity coefficients for various community
quantities.</p>
<dl class="py function">
<dt id="micom.elasticity.elasticities">
<code class="sig-prename descclassname">micom.elasticity.</code><code class="sig-name descname">elasticities</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">com</span></em>, <em class="sig-param"><span class="n">fraction</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">reactions</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.elasticity.elasticities" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate elasticities for reactions.</p>
<p>Calculates elasticity coefficients using the specified reactions as
response and exchange bounds (diet) and taxa abundances as
effectors/parameters. Will use an arbitrary flux distribution as base.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>com</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community for wrhich to calculate elasticities.</p></li>
<li><p><strong>fraction</strong> (<em>double</em>) – The tradeoff to use for the cooperative tradeoff method. Fraction of
maximal community growth to enforce.</p></li>
<li><p><strong>reactions</strong> (<em>iterable</em>) – A list of reactions to get elasticities for. Elements can either be
reactions from the model, strings specifying the ids of reactions
or ints specifying the indices of reactions. Defaults to using all
reactions.</p></li>
<li><p><strong>progress</strong> (<em>boolean</em>) – Whether to shwo progress bars. Will show two, one for the diet
optimizations and another one for the taxa abundances.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A data frame with the following columns:
“reaction” - the exchange reaction (response),
“taxon” - the taxon the reaction is from,
“effector” - the parameter that was changed,
“direction” - whether the flux runs in the forward or reverse</p>
<blockquote>
<div><p>direction,</p>
</div></blockquote>
<p>”elasticity” - the elasticity coefficient,
“type” - the type of effector either “exchange” for diet or “abundance”
for taxa abundances.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="micom.elasticity.elasticities_by_abundance">
<code class="sig-prename descclassname">micom.elasticity.</code><code class="sig-name descname">elasticities_by_abundance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">com</span></em>, <em class="sig-param"><span class="n">reactions</span></em>, <em class="sig-param"><span class="n">fraction</span></em>, <em class="sig-param"><span class="n">growth_rate</span></em>, <em class="sig-param"><span class="n">progress</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.elasticity.elasticities_by_abundance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the elasticity coefficients for a set of variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>com</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community for which to calculate elasticities.</p></li>
<li><p><strong>variables</strong> (<em>list of optlang.Variable</em>) – The variables for which to calculate the elasticities. All of these
must have non-zero primal vaues in the previous solution.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The long/tidy version of the elasticities. Contains columns variable,
effector, and elasticity.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.Dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="micom.elasticity.elasticities_by_medium">
<code class="sig-prename descclassname">micom.elasticity.</code><code class="sig-name descname">elasticities_by_medium</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">com</span></em>, <em class="sig-param"><span class="n">reactions</span></em>, <em class="sig-param"><span class="n">fraction</span></em>, <em class="sig-param"><span class="n">growth_rate</span></em>, <em class="sig-param"><span class="n">progress</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.elasticity.elasticities_by_medium" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the elasticity coefficients for a set of variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>com</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community for wrhich to calculate elasticities.</p></li>
<li><p><strong>variables</strong> (<em>list of optlang.Variable</em>) – The variables for which to calculate the elasticities. All of these
must have non-zero primal vaues in the previous solution.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The long/tidy version of the elasticities. Contains columns variable,
effector, and elasticity.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.Dataframe</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-micom.logger">
<span id="micom-logger-module"></span><h2>micom.logger module<a class="headerlink" href="#module-micom.logger" title="Permalink to this headline">¶</a></h2>
<p>configures the logger for micom.</p>
</div>
<div class="section" id="module-micom.media">
<span id="micom-media-module"></span><h2>micom.media module<a class="headerlink" href="#module-micom.media" title="Permalink to this headline">¶</a></h2>
<p>Manages functions for growth media analysis and manipulation.</p>
<dl class="py function">
<dt id="micom.media.add_linear_obj">
<code class="sig-prename descclassname">micom.media.</code><code class="sig-name descname">add_linear_obj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">exchanges</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.media.add_linear_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a linear version of a minimal medium to the community.</p>
<p>Changes the optimization objective to finding the growth medium requiring
the smallest total import flux:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">minimize</span> <span class="nb">sum</span> <span class="o">|</span><span class="n">r_i</span><span class="o">|</span> <span class="k">for</span> <span class="n">r_i</span> <span class="ow">in</span> <span class="n">import_reactions</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>community</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community to modify.</p></li>
<li><p><strong>exchanges</strong> (<em>list of cobra.Reaction</em>) – The reactions to constrain.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="micom.media.add_mip_obj">
<code class="sig-prename descclassname">micom.media.</code><code class="sig-name descname">add_mip_obj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">exchanges</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.media.add_mip_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a mixed-integer version of a minimal medium to the community.</p>
<p>Changes the optimization objective to finding the medium with the least
components:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">minimize</span> <span class="n">size</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="n">where</span> <span class="n">R</span> <span class="n">part</span> <span class="n">of</span> <span class="n">import_reactions</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>community</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community to modify.</p></li>
<li><p><strong>exchanges</strong> (<em>list of cobra.Reaction</em>) – The reactions to constrain.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="micom.media.complete_medium">
<code class="sig-prename descclassname">micom.media.</code><code class="sig-name descname">complete_medium</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">medium</span></em>, <em class="sig-param"><span class="n">min_growth</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">max_import</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">minimize_components</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.media.complete_medium" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill in missing components in a growth medium.</p>
<p>Finds the minimal number of additions to make a model form biomass. In
order to avoid bias all added reactions will have a maximum import
rate of <cite>max_import</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function fixes the growth medium for a single cobra Model. We also
provide a function <cite>fix_medium</cite> in <cite>micom.workflows</cite> that fixes a growth
medium for an entire model database.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>cobra.Model</em>) – The model to use.</p></li>
<li><p><strong>medium</strong> (<em>pandas.Series</em>) – A growth medium. Must contain positive floats as elements and
exchange reaction ids as index. Note that reactions not present in the
model will be removed from the growth medium.</p></li>
<li><p><strong>min_growth</strong> (<em>positive float</em><em> or </em><em>array-like object.</em>) – The minimum growth rate for each individual in the community. Either
a single value applied to all individuals or one value for each.</p></li>
<li><p><strong>minimize_components</strong> (<em>boolean</em>) – Whether to minimize the number of components instead of the total
import flux. Might be more intuitive if set to True but may also be
slow to calculate for large communities.</p></li>
<li><p><strong>max_import</strong> (<em>positive float</em>) – The import rate applied for the added exchanges.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A series {rid: flux} giving the import flux for each required import
reaction. This will include the initial <cite>medium</cite> as passed to the
function as well as a minimal set of additional changes such that the
model produces biomass with a rate &gt;= <cite>min_growth</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.Series or dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="micom.media.minimal_medium">
<code class="sig-prename descclassname">micom.media.</code><code class="sig-name descname">minimal_medium</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">community_growth</span></em>, <em class="sig-param"><span class="n">exchanges</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_growth</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">exports</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">minimize_components</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">open_exchanges</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">solution</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">atol</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rtol</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.media.minimal_medium" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the minimal growth medium for the community.</p>
<p>Finds the minimal growth medium for the community which allows for
community as well as individual growth. Here, a minimal medium can either
be the medium requiring the smallest total import flux or the medium
requiring the least components (ergo ingredients).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>community</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community to modify.</p></li>
<li><p><strong>community_growth</strong> (<em>positive float</em>) – The minimum community-wide growth rate.</p></li>
<li><p><strong>exchanges</strong> (<em>list of cobra.Reactions</em>) – The list of exchange reactions that are penalized.</p></li>
<li><p><strong>min_growth</strong> (<em>positive float</em><em> or </em><em>array-like object.</em>) – The minimum growth rate for each individual in the community. Either
a single value applied to all individuals or one value for each.</p></li>
<li><p><strong>exports</strong> (<em>boolean</em>) – Whether to include export fluxes in the returned medium. Defaults to
False which will only return import fluxes.</p></li>
<li><p><strong>minimize_components</strong> (<em>boolean</em>) – Whether to minimize the number of components instead of the total
import flux. Might be more intuitive if set to True but may also be
slow to calculate for large communities.</p></li>
<li><p><strong>open_exchanges</strong> (<em>boolean</em><em> or </em><em>number</em>) – Whether to ignore currently set bounds and make all exchange reactions
in the model possible. If set to a number all exchange reactions will
be opened with (-number, number) as bounds.</p></li>
<li><p><strong>solution</strong> (<em>boolean</em>) – Whether to also return the entire solution and all fluxes for the
minimal medium.</p></li>
<li><p><strong>atol</strong> (<em>float</em>) – Absolute tolerance for the growth rates. If None will use the solver tolerance.</p></li>
<li><p><strong>rtol</strong> (<em>float</em>) – Relative tolerqance for the growth rates. If None will use the solver tolerance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A series {rid: flux} giving the import flux for each required import
reaction. If <cite>solution</cite> is True retuns a dictionary
{“medium”: panas.Series, “solution”: micom.CommunitySolution}.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.Series or dict</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-micom.optcom">
<span id="micom-optcom-module"></span><h2>micom.optcom module<a class="headerlink" href="#module-micom.optcom" title="Permalink to this headline">¶</a></h2>
<p>Implements optimization and model problems.</p>
<dl class="py function">
<dt id="micom.optcom.add_dualized_optcom">
<code class="sig-prename descclassname">micom.optcom.</code><code class="sig-name descname">add_dualized_optcom</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">min_growth</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.optcom.add_dualized_optcom" title="Permalink to this definition">¶</a></dt>
<dd><p>Add dual Optcom variables and constraints to a community.</p>
<p>Uses the original formulation of OptCom and solves the following
multi-objective problem:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">maximize</span> <span class="n">community_growth</span>
<span class="n">s</span><span class="o">.</span><span class="n">t</span><span class="o">.</span> <span class="n">maximize</span> <span class="n">growth_rate_i</span> <span class="k">for</span> <span class="nb">all</span> <span class="n">i</span>
     <span class="n">s</span><span class="o">.</span><span class="n">t</span><span class="o">.</span> <span class="n">Sv_i</span> <span class="o">=</span> <span class="mi">0</span>
          <span class="n">lb_i</span> <span class="o">&gt;=</span> <span class="n">v_i</span> <span class="o">&gt;=</span> <span class="n">ub_i</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>This method will only find one arbitrary solution from the Pareto front.
There may exist several other optimal solutions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>community</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community to modify.</p></li>
<li><p><strong>min_growth</strong> (<em>positive float</em><em> or </em><em>array-like object.</em>) – The minimum growth rate for each individual in the community. Either
a single value applied to all individuals or one value for each.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="micom.optcom.add_moma_optcom">
<code class="sig-prename descclassname">micom.optcom.</code><code class="sig-name descname">add_moma_optcom</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">min_growth</span></em>, <em class="sig-param"><span class="n">linear</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.optcom.add_moma_optcom" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a dualized MOMA version of OptCom.</p>
<p>Solves a MOMA (minimization of metabolic adjustment) formulation of OptCom
given by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">minimize</span> <span class="n">cooperativity_cost</span>
<span class="n">s</span><span class="o">.</span><span class="n">t</span><span class="o">.</span> <span class="n">maximize</span> <span class="n">community_objective</span>
     <span class="n">s</span><span class="o">.</span><span class="n">t</span><span class="o">.</span> <span class="n">Sv</span> <span class="o">=</span> <span class="mi">0</span>
          <span class="n">lb</span> <span class="o">&gt;=</span> <span class="n">v</span> <span class="o">&gt;=</span> <span class="n">ub</span>
<span class="n">where</span> <span class="n">community_cost</span> <span class="o">=</span> <span class="nb">sum</span> <span class="p">(</span><span class="n">growth_rate</span> <span class="o">-</span> <span class="n">max_growth</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
      <span class="k">if</span> <span class="n">linear</span><span class="o">=</span><span class="kc">False</span> <span class="ow">or</span>
      <span class="n">community_cost</span> <span class="o">=</span> <span class="nb">sum</span> <span class="o">|</span><span class="n">growth_rate</span> <span class="o">-</span> <span class="n">max_growth</span><span class="o">|</span>
      <span class="k">if</span> <span class="n">linear</span><span class="o">=</span><span class="kc">True</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>community</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community to modify.</p></li>
<li><p><strong>min_growth</strong> (<em>positive float</em><em> or </em><em>array-like object.</em>) – The minimum growth rate for each individual in the community. Either
a single value applied to all individuals or one value for each.</p></li>
<li><p><strong>linear</strong> (<em>boolean</em>) – Whether to use a non-linear (sum of squares) or linear version of the
cooperativity cost. If set to False requires a QP-capable solver.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="micom.optcom.optcom">
<code class="sig-prename descclassname">micom.optcom.</code><code class="sig-name descname">optcom</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">strategy</span></em>, <em class="sig-param"><span class="n">min_growth</span></em>, <em class="sig-param"><span class="n">fluxes</span></em>, <em class="sig-param"><span class="n">pfba</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.optcom.optcom" title="Permalink to this definition">¶</a></dt>
<dd><p>Run OptCom for the community.</p>
<p>OptCom methods are a group of optimization procedures to find community
solutions that provide a tradeoff between the cooperative community
growth and the egoistic growth of each individual <a class="footnote-reference brackets" href="#p1" id="id3">2</a>. <cite>micom</cite>
provides several strategies that can be used to find optimal solutions:</p>
<ul class="simple">
<li><p>“moma”: Minimization of metabolic adjustment. Simultaneously
optimizes the community objective (maximize) and the cooperativity
cost (minimize). This method finds an exact maximum but doubles the
number of required variables, thus being slow.</p></li>
<li><p>“lmoma”: The same as “moma” only with a linear
representation of the cooperativity cost (absolute value).</p></li>
<li><p>“original”: Solves the multi-objective problem described in <a class="footnote-reference brackets" href="#p1" id="id4">2</a>.
Here, the community growth rate is maximized simultanously with all
individual growth rates. Note that there are usually many
Pareto-optimal solutions to this problem and the method will only
give one solution. This is also the slowest method.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>community</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community to optimize.</p></li>
<li><p><strong>strategy</strong> (<em>str</em>) – The strategy used to solve the OptCom formulation. Defaults to
“lagrangian” which gives a decent tradeoff between speed and
correctness.</p></li>
<li><p><strong>min_growth</strong> (<em>float</em><em> or </em><em>array-like</em>) – The minimal growth rate required for each individual. May be a
single value or an array-like object with the same length as there
are individuals.</p></li>
<li><p><strong>fluxes</strong> (<em>boolean</em>) – Whether to return the fluxes as well.</p></li>
<li><p><strong>pfba</strong> (<em>boolean</em>) – Whether to obtain fluxes by parsimonious FBA rather than
“classical” FBA.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The solution of the optimization. If fluxes==False will only contain
the objective value, community growth rate and individual growth rates.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>micom.CommunitySolution</p>
</dd>
</dl>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="p1"><span class="brackets">2</span><span class="fn-backref">(<a href="#id3">1</a>,<a href="#id4">2</a>)</span></dt>
<dd><p>OptCom: a multi-level optimization framework for the metabolic
modeling and analysis of microbial communities.
Zomorrodi AR, Maranas CD. PLoS Comput Biol. 2012 Feb;8(2):e1002363.
doi: 10.1371/journal.pcbi.1002363, PMID: 22319433</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-micom.problems">
<span id="micom-problems-module"></span><h2>micom.problems module<a class="headerlink" href="#module-micom.problems" title="Permalink to this headline">¶</a></h2>
<p>Implements tradeoff optimization between community and egoistic growth.</p>
<dl class="py function">
<dt id="micom.problems.cooperative_tradeoff">
<code class="sig-prename descclassname">micom.problems.</code><code class="sig-name descname">cooperative_tradeoff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">min_growth</span></em>, <em class="sig-param"><span class="n">fraction</span></em>, <em class="sig-param"><span class="n">fluxes</span></em>, <em class="sig-param"><span class="n">pfba</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.problems.cooperative_tradeoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the best tradeoff between community and individual growth.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.problems.knockout_taxa">
<code class="sig-prename descclassname">micom.problems.</code><code class="sig-name descname">knockout_taxa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">taxa</span></em>, <em class="sig-param"><span class="n">fraction</span></em>, <em class="sig-param"><span class="n">method</span></em>, <em class="sig-param"><span class="n">progress</span></em>, <em class="sig-param"><span class="n">diag</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.problems.knockout_taxa" title="Permalink to this definition">¶</a></dt>
<dd><p>Knockout a taxon from the community.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.problems.regularize_l2_norm">
<code class="sig-prename descclassname">micom.problems.</code><code class="sig-name descname">regularize_l2_norm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">min_growth</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.problems.regularize_l2_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an objective to find the most “egoistic” solution.</p>
<p>This adds an optimization objective finding a solution that maintains a
(sub-)optimal community growth rate but is the closest solution to the
community members individual maximal growth rates. So it basically finds
the best possible tradeoff between maximizing community growth and
individual (egoistic) growth. Here the objective is given as the sum of
squared differences between the individuals current and maximal growth
rate. In the linear case squares are substituted by absolute values
(Manhattan distance).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>community</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community to modify.</p></li>
<li><p><strong>min_growth</strong> (<em>positive float</em>) – The minimal community growth rate that has to be mantained.</p></li>
<li><p><strong>linear</strong> (<em>boolean</em>) – Whether to use a non-linear (sum of squares) or linear version of the
cooperativity cost. If set to False requires a QP-capable solver.</p></li>
<li><p><strong>max_gcs</strong> (<em>None</em><em> or </em><em>dict</em>) – The precomputed maximum individual growth rates.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-micom.qiime_formats">
<span id="micom-qiime-formats-module"></span><h2>micom.qiime_formats module<a class="headerlink" href="#module-micom.qiime_formats" title="Permalink to this headline">¶</a></h2>
<p>Provides support for Qiime formats.</p>
<dl class="py function">
<dt id="micom.qiime_formats.load_qiime_feature_table">
<code class="sig-prename descclassname">micom.qiime_formats.</code><code class="sig-name descname">load_qiime_feature_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">artifact</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.qiime_formats.load_qiime_feature_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a feature table from a Qiime 2 artifact.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.qiime_formats.load_qiime_manifest">
<code class="sig-prename descclassname">micom.qiime_formats.</code><code class="sig-name descname">load_qiime_manifest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">artifact</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.qiime_formats.load_qiime_manifest" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare community models for use.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.qiime_formats.load_qiime_medium">
<code class="sig-prename descclassname">micom.qiime_formats.</code><code class="sig-name descname">load_qiime_medium</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">artifact</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.qiime_formats.load_qiime_medium" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a growth medium/diet from a Qiime 2 artifact.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.qiime_formats.load_qiime_model">
<code class="sig-prename descclassname">micom.qiime_formats.</code><code class="sig-name descname">load_qiime_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">artifact</span></em>, <em class="sig-param"><span class="n">id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.qiime_formats.load_qiime_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a model from a Qiime 2 artifact.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.qiime_formats.load_qiime_model_db">
<code class="sig-prename descclassname">micom.qiime_formats.</code><code class="sig-name descname">load_qiime_model_db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">artifact</span></em>, <em class="sig-param"><span class="n">extract_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.qiime_formats.load_qiime_model_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare a model database for use.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.qiime_formats.load_qiime_taxonomy">
<code class="sig-prename descclassname">micom.qiime_formats.</code><code class="sig-name descname">load_qiime_taxonomy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">artifact</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.qiime_formats.load_qiime_taxonomy" title="Permalink to this definition">¶</a></dt>
<dd><p>Load taxonomy feature data from a Qiime 2 artifact.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.qiime_formats.metadata">
<code class="sig-prename descclassname">micom.qiime_formats.</code><code class="sig-name descname">metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">artifact</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.qiime_formats.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Read metadata from a Qiime 2 artifact.</p>
</dd></dl>

</div>
<div class="section" id="module-micom.representation">
<span id="micom-representation-module"></span><h2>micom.representation module<a class="headerlink" href="#module-micom.representation" title="Permalink to this headline">¶</a></h2>
<p>Converts between QP representations.</p>
<dl class="py function">
<dt id="micom.representation.sparse_problem">
<code class="sig-prename descclassname">micom.representation.</code><code class="sig-name descname">sparse_problem</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">com</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.representation.sparse_problem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-micom.solution">
<span id="micom-solution-module"></span><h2>micom.solution module<a class="headerlink" href="#module-micom.solution" title="Permalink to this headline">¶</a></h2>
<p>A community solution object.</p>
<dl class="py class">
<dt id="micom.solution.CommunitySolution">
<em class="property">class </em><code class="sig-prename descclassname">micom.solution.</code><code class="sig-name descname">CommunitySolution</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">slim</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">reactions</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metabolites</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.solution.CommunitySolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cobra.core.solution.Solution</span></code></p>
<p>An FBA solution for an entire community.</p>
<dl class="py attribute">
<dt id="micom.solution.CommunitySolution.objective_value">
<code class="sig-name descname">objective_value</code><a class="headerlink" href="#micom.solution.CommunitySolution.objective_value" title="Permalink to this definition">¶</a></dt>
<dd><p>The (optimal) value for the objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="micom.solution.CommunitySolution.members">
<code class="sig-name descname">members</code><a class="headerlink" href="#micom.solution.CommunitySolution.members" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains basic info about the individual compartments/members of the
community such as id, abundance and growth rates. Will also include
one row for the external medium (without abundance and growth rate).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="micom.solution.CommunitySolution.growth_rate">
<code class="sig-name descname">growth_rate</code><a class="headerlink" href="#micom.solution.CommunitySolution.growth_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>The overall growth rate for the community normalized to 1 gDW.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="micom.solution.CommunitySolution.status">
<code class="sig-name descname">status</code><a class="headerlink" href="#micom.solution.CommunitySolution.status" title="Permalink to this definition">¶</a></dt>
<dd><p>The solver status related to the solution.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="micom.solution.CommunitySolution.strategy">
<code class="sig-name descname">strategy</code><a class="headerlink" href="#micom.solution.CommunitySolution.strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>The optimization strategy used to obtain the solution (may be empty).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="micom.solution.CommunitySolution.fluxes">
<code class="sig-name descname">fluxes</code><a class="headerlink" href="#micom.solution.CommunitySolution.fluxes" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the reaction fluxes (primal values of variables) stratified
by compartment. Columns denote individual fluxes and rows denote
compartments: one for every taxon plus one for the external medium.
Fluxes will be NA if the reaction does not exist in the organism.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="micom.solution.CommunitySolution.reduced_costs">
<code class="sig-name descname">reduced_costs</code><a class="headerlink" href="#micom.solution.CommunitySolution.reduced_costs" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains reaction reduced costs (dual values of variables) stratified
by taxa. Columns denote individual fluxes and rows denote taxa.
Reduced costs will be NA if the reaction does not exist in the
organism.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="micom.solution.CommunitySolution.shadow_prices">
<code class="sig-name descname">shadow_prices</code><a class="headerlink" href="#micom.solution.CommunitySolution.shadow_prices" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains metabolite shadow prices (dual values of constraints)
stratified by taxa. Columns denote individual metabolites and rows
denote taxa. Shadow prices will be NA if the metabolite does not
exist in the organism.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="micom.solution.add_pfba_objective">
<code class="sig-prename descclassname">micom.solution.</code><code class="sig-name descname">add_pfba_objective</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">atol</span><span class="o">=</span><span class="default_value">1e-06</span></em>, <em class="sig-param"><span class="n">rtol</span><span class="o">=</span><span class="default_value">1e-06</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.solution.add_pfba_objective" title="Permalink to this definition">¶</a></dt>
<dd><p>Add pFBA objective.</p>
<p>Add objective to minimize the summed flux of all reactions to the
current objective. This one will work with any objective (even non-linear
ones).</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">pfba()</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>community</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community to add the objective to.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="micom.solution.crossover">
<code class="sig-prename descclassname">micom.solution.</code><code class="sig-name descname">crossover</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">sol</span></em>, <em class="sig-param"><span class="n">fluxes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pfba</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.solution.crossover" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the crossover solution.</p>
</dd></dl>

<dl class="py data">
<dt id="micom.solution.good">
<code class="sig-prename descclassname">micom.solution.</code><code class="sig-name descname">good</code><em class="property"> = ['optimal', 'numeric', 'feasible', 'suboptimal', 'iteration_limit']</em><a class="headerlink" href="#micom.solution.good" title="Permalink to this definition">¶</a></dt>
<dd><p>Solver states that permit returning the solution.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.solution.optimize_with_fraction">
<code class="sig-prename descclassname">micom.solution.</code><code class="sig-name descname">optimize_with_fraction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">com</span></em>, <em class="sig-param"><span class="n">fraction</span></em>, <em class="sig-param"><span class="n">growth_rate</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fluxes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pfba</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.solution.optimize_with_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize with a constrained community growth rate.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.solution.optimize_with_retry">
<code class="sig-prename descclassname">micom.solution.</code><code class="sig-name descname">optimize_with_retry</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">com</span></em>, <em class="sig-param"><span class="n">message</span><span class="o">=</span><span class="default_value">'could not get optimum.'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.solution.optimize_with_retry" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to reset the solver.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.solution.reset_solver">
<code class="sig-prename descclassname">micom.solution.</code><code class="sig-name descname">reset_solver</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.solution.reset_solver" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the solver.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.solution.solve">
<code class="sig-prename descclassname">micom.solution.</code><code class="sig-name descname">solve</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em>, <em class="sig-param"><span class="n">fluxes</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">pfba</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">raise_error</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">atol</span><span class="o">=</span><span class="default_value">1e-06</span></em>, <em class="sig-param"><span class="n">rtol</span><span class="o">=</span><span class="default_value">1e-06</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.solution.solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all fluxes stratified by taxa.</p>
</dd></dl>

</div>
<div class="section" id="module-micom.util">
<span id="micom-util-module"></span><h2>micom.util module<a class="headerlink" href="#module-micom.util" title="Permalink to this headline">¶</a></h2>
<p>Holds utility functions for other modules.</p>
<dl class="py function">
<dt id="micom.util.add_var_from_expression">
<code class="sig-prename descclassname">micom.util.</code><code class="sig-name descname">add_var_from_expression</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">expr</span></em>, <em class="sig-param"><span class="n">lb</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ub</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.util.add_var_from_expression" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a variable to a model equaling an expression.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.util.adjust_solver_config">
<code class="sig-prename descclassname">micom.util.</code><code class="sig-name descname">adjust_solver_config</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">solver</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.util.adjust_solver_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust the optlang solver configuration for larger problems.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.util.check_modification">
<code class="sig-prename descclassname">micom.util.</code><code class="sig-name descname">check_modification</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">community</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.util.check_modification" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a community already carries a modification.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>community</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community class to check.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the community already carries a modification and adding another
    would not be safe.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="micom.util.chr_or_input">
<code class="sig-prename descclassname">micom.util.</code><code class="sig-name descname">chr_or_input</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">m</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.util.chr_or_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Return ascii character for the ordinal or the original string.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.util.clean_ids">
<code class="sig-prename descclassname">micom.util.</code><code class="sig-name descname">clean_ids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.util.clean_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean ids up a bit.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.util.download_model">
<code class="sig-prename descclassname">micom.util.</code><code class="sig-name descname">download_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span></em>, <em class="sig-param"><span class="n">folder</span><span class="o">=</span><span class="default_value">'.'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.util.download_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a model.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.util.fluxes_from_primals">
<code class="sig-prename descclassname">micom.util.</code><code class="sig-name descname">fluxes_from_primals</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">info</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.util.fluxes_from_primals" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a list of fluxes from the model primals.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.util.join_models">
<code class="sig-prename descclassname">micom.util.</code><code class="sig-name descname">join_models</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_files</span></em>, <em class="sig-param"><span class="n">id</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.util.join_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Join several models into one.</p>
<p>This requires all the models to use the same ID system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_files</strong> (<em>list of strings</em>) – The files to be joined.</p></li>
<li><p><strong>id</strong> (<em>str</em>) – The new ID for the model. Will be the ID of the first model if None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The joined cobra Model.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>cobra.Model</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="micom.util.load_model">
<code class="sig-prename descclassname">micom.util.</code><code class="sig-name descname">load_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.util.load_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a cobra model from several file types.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.util.load_pickle">
<code class="sig-prename descclassname">micom.util.</code><code class="sig-name descname">load_pickle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.util.load_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a community model from a pickled version.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The file the community is stored in.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The loaded community model.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#micom.Community" title="micom.Community">micom.Community</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="micom.util.reset_min_community_growth">
<code class="sig-prename descclassname">micom.util.</code><code class="sig-name descname">reset_min_community_growth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">com</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.util.reset_min_community_growth" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the lower bound for the community growth.</p>
</dd></dl>

<dl class="py function">
<dt id="micom.util.serialize_models">
<code class="sig-prename descclassname">micom.util.</code><code class="sig-name descname">serialize_models</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">files</span></em>, <em class="sig-param"><span class="n">dir</span><span class="o">=</span><span class="default_value">'.'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.util.serialize_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert several models to Python pickles.</p>
</dd></dl>

</div>
<div class="section" id="module-micom">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-micom" title="Permalink to this headline">¶</a></h2>
<p>Simple init file for mico.</p>
<dl class="py class">
<dt id="micom.Community">
<em class="property">class </em><code class="sig-prename descclassname">micom.</code><code class="sig-name descname">Community</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">taxonomy</span></em>, <em class="sig-param"><span class="n">model_db</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">id</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rel_threshold</span><span class="o">=</span><span class="default_value">1e-06</span></em>, <em class="sig-param"><span class="n">solver</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">max_exchange</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">mass</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.Community" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cobra.core.model.Model</span></code></p>
<p>A community of models.</p>
<p>This class represents a community of individual models. It was designed for
microbial communities but may also be used for multi-tissue or tissue-cell
mixture models as long as all individuals exist within a single enclosing
compartment.</p>
<dl class="py method">
<dt id="micom.Community.abundances">
<em class="property">property </em><code class="sig-name descname">abundances</code><a class="headerlink" href="#micom.Community.abundances" title="Permalink to this definition">¶</a></dt>
<dd><p>The normalized abundances.</p>
<p>Setting this attribute will also trigger the appropriate updates in
the exchange fluxes and the community objective.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.build_metrics">
<em class="property">property </em><code class="sig-name descname">build_metrics</code><a class="headerlink" href="#micom.Community.build_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns general metrics for database matching.</p>
<p>Only available when built using a model database.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.cooperative_tradeoff">
<code class="sig-name descname">cooperative_tradeoff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min_growth</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">fraction</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">fluxes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pfba</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.Community.cooperative_tradeoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the best tradeoff between community and individual growth.</p>
<p>Finds the set of growth rates which maintian a particular community
growth and spread up growth across all taxa as much as possible.
This is done by minimizing the L2 norm of the growth rates with a
minimal community growth.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_growth</strong> (<em>float</em><em> or </em><em>array-like</em><em>, </em><em>optional</em>) – The minimal growth rate required for each individual. May be a
single value or an array-like object with the same length as there
are individuals.</p></li>
<li><p><strong>fraction</strong> (<em>float</em><em> or </em><em>list of floats in</em><em> [</em><em>0</em><em>, </em><em>1</em><em>]</em>) – The minum percentage of the community growth rate that has to be
maintained. For instance 0.9 means maintain 90% of the maximal
community growth rate. Defaults to 100%.</p></li>
<li><p><strong>fluxes</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to return the fluxes as well.</p></li>
<li><p><strong>pfba</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to obtain fluxes by parsimonious FBA rather than
“classical” FBA. This is highly recommended.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The solution of the optimization. If fluxes==False will only
contain the objective value, community growth rate and individual
growth rates. If more than one fraction value is given will return
a pandas Series of solutions with the fractions as indices.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>micom.CommunitySolution or pd.Series of solutions</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.exchanges">
<em class="property">property </em><code class="sig-name descname">exchanges</code><a class="headerlink" href="#micom.Community.exchanges" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all exchange reactions in the model.</p>
<p>Uses several heuristics based on the reaction name and compartments
to exclude reactions that are <em>not</em> exchange reactions.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.internal_exchanges">
<em class="property">property </em><code class="sig-name descname">internal_exchanges</code><a class="headerlink" href="#micom.Community.internal_exchanges" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all internal exchanges.</p>
<p>Internal exchanges are exchanges between individual taxa and the medium.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.knockout_taxa">
<code class="sig-name descname">knockout_taxa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">taxa</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fraction</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'change'</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">diag</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.Community.knockout_taxa" title="Permalink to this definition">¶</a></dt>
<dd><p>Sequentially knowckout a list of taxa in the model.</p>
<p>This uses cooperative tradeoff as optimization criterion in order to
get unqiue solutions for individual growth rates. Requires a QP
solver to work.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taxa</strong> (<em>str</em><em> or </em><em>list of strs</em>) – Names of taxa to be knocked out.</p></li>
<li><p><strong>fraction</strong> (<em>float in</em><em> [</em><em>0</em><em>, </em><em>1</em><em>]</em><em>, </em><em>optional</em>) – Percentage of the maximum community growth rate that has to be
maintained. Defaults to 100%.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – One of “raw”, “change” or “relative change” that dictates whether
to return the new growth rate (raw), the change in growth rate
new - old or the relative change ([new - old] / old).</p></li>
<li><p><strong>progress</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to show a progress bar. On by default.</p></li>
<li><p><strong>diag</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the diagonal should contain values as well. If False will
be filled with NaNs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A data frame with one row for each knockout and growth rates in the
columns. Here the row name indicates which taxon has been knocked
out and the columns contain the growth changes for all taxa in
that knockout.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.medium">
<em class="property">property </em><code class="sig-name descname">medium</code><a class="headerlink" href="#micom.Community.medium" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the medium.</p>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.modification">
<em class="property">property </em><code class="sig-name descname">modification</code><a class="headerlink" href="#micom.Community.modification" title="Permalink to this definition">¶</a></dt>
<dd><p>Denotes modifications to the model currently applied.</p>
<p>Will be None if the community is unmodified.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.optcom">
<code class="sig-name descname">optcom</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">strategy</span><span class="o">=</span><span class="default_value">'lagrangian'</span></em>, <em class="sig-param"><span class="n">min_growth</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">fluxes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pfba</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.Community.optcom" title="Permalink to this definition">¶</a></dt>
<dd><p>Run OptCom for the community.</p>
<p>OptCom methods are a group of optimization procedures to find community
solutions that provide a tradeoff between the cooperative community
growth and the egoistic growth of each individual <a href="#id11"><span class="problematic" id="id5">[#c1]_</span></a>. <cite>micom</cite>
provides several strategies that can be used to find optimal solutions:</p>
<ul class="simple">
<li><p>“moma”: Minimization of metabolic adjustment. Simultaneously
optimizes the community objective (maximize) and the cooperativity
cost (minimize). This method finds an exact maximum but doubles the
number of required variables, thus being slow.</p></li>
<li><p>“lmoma”: The same as “moma” only with a linear
representation of the cooperativity cost (absolute value).</p></li>
<li><p>“original”: Solves the multi-objective problem described in <a href="#id12"><span class="problematic" id="id6">[#c1]_</span></a>.
Here, the community growth rate is maximized simultanously with all
individual growth rates. Note that there are usually many
Pareto-optimal solutions to this problem and the method will only
give one solution. This is also the slowest method.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>community</strong> (<a class="reference internal" href="#micom.Community" title="micom.Community"><em>micom.Community</em></a>) – The community to optimize.</p></li>
<li><p><strong>strategy</strong> (<em>str</em>) – The strategy used to solve the OptCom formulation. Defaults to
“lagrangian” which gives a decent tradeoff between speed and
correctness.</p></li>
<li><p><strong>min_growth</strong> (<em>float</em><em> or </em><em>array-like</em>) – The minimal growth rate required for each individual. May be a
single value or an array-like object with the same length as there
are individuals.</p></li>
<li><p><strong>fluxes</strong> (<em>boolean</em>) – Whether to return the fluxes as well.</p></li>
<li><p><strong>pfba</strong> (<em>boolean</em>) – Whether to obtain fluxes by parsimonious FBA rather than
“classical” FBA.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The solution of the optimization. If fluxes==False will only
contain the objective value, community growth rate and individual
growth rates.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>micom.CommunitySolution</p>
</dd>
</dl>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id7"><span class="brackets">3</span></dt>
<dd><p>OptCom: a multi-level optimization framework for the metabolic
modeling and analysis of microbial communities.
Zomorrodi AR, Maranas CD. PLoS Comput Biol. 2012 Feb;8(2):e1002363.
doi: 10.1371/journal.pcbi.1002363, PMID: 22319433</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.optimize">
<code class="sig-name descname">optimize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fluxes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pfba</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">raise_error</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">atol</span><span class="o">=</span><span class="default_value">1e-06</span></em>, <em class="sig-param"><span class="n">rtol</span><span class="o">=</span><span class="default_value">1e-06</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.Community.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize the model using flux balance analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slim</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to return a slim solution which does not contain fluxes,
just growth rates.</p></li>
<li><p><strong>raise_error</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Should an error be raised if the solution is not optimal. Defaults
to False which will either return a solution with a non-optimal
status or None if optimization fails.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The solution after optimization or None if there is no optimum.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>micom.CommunitySolution</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.optimize_all">
<code class="sig-name descname">optimize_all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fluxes</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">progress</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.Community.optimize_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Return solutions for individually optimizing each model.</p>
<p class="rubric">Notes</p>
<p>This might well mean that growth rates for all other individuals are
low since the individual may use up all available resources. As a
consequence the reported growth rates may usually never be obtained
all at once.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fluxes</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to return all fluxes. Defaults to just returning the
maximal growth rate.</p></li>
<li><p><strong>progress</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to show a progress bar.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The maximal growth rate for each taxa.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.optimize_single">
<code class="sig-name descname">optimize_single</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.Community.optimize_single" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize growth rate for one individual.</p>
<p><cite>optimize_single</cite> will calculate the maximal growth rate for one
individual member of the community.</p>
<p class="rubric">Notes</p>
<p>This might well mean that growth rates for all other individuals are
low since the individual may use up all available resources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>str</em>) – The ID of the individual to be optimized.</p></li>
<li><p><strong>fluxes</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to return all fluxes. Defaults to just returning the
maximal growth rate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The maximal growth rate for the given taxa.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.scale">
<em class="property">property </em><code class="sig-name descname">scale</code><a class="headerlink" href="#micom.Community.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a scale to improve numerical properties.</p>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.set_abundance">
<code class="sig-name descname">set_abundance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">normalize</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.Community.set_abundance" title="Permalink to this definition">¶</a></dt>
<dd><p>Change abundances for one or more taxa.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>array-like object</em>) – The new abundances. Must contain one value for each taxon. Can
be a named object like a pandas Series.</p></li>
<li><p><strong>normalize</strong> (<em>boolean</em><em>, </em><em>optional</em>) – Whether to normalize the abundances to a total of 1.0. Many things
in micom asssume that this is always the case. Only change this
if you know what you are doing :O</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.taxonomy">
<em class="property">property </em><code class="sig-name descname">taxonomy</code><a class="headerlink" href="#micom.Community.taxonomy" title="Permalink to this definition">¶</a></dt>
<dd><p>The taxonomy used within the model.</p>
<p>This attribute only returns a copy.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="micom.Community.to_pickle">
<code class="sig-name descname">to_pickle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.Community.to_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a community in serialized form.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Where to save the pickled community.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Nothing</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="micom.load_pickle">
<code class="sig-prename descclassname">micom.</code><code class="sig-name descname">load_pickle</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#micom.load_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a community model from a pickled version.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The file the community is stored in.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The loaded community model.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#micom.Community" title="micom.Community">micom.Community</a></p>
</dd>
</dl>
</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2017-2020, Christian Diener.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>